(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,r){e.exports=r(35)},24:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);r(24);var a=r(0),n=r.n(a),i=r(18),c=r.n(i),s=r(4),o=r(5),l=r(7),u=r(6),m=r(8),d=r(11),f=function(e){var t=e.setActiveFilm,r=void 0===t?function(e){return e}:t,a=e.loading,i=e.error,c=e.items,s=e.active;return n.a.createElement("div",{className:"films-header__list"},n.a.createElement("div",{className:"films-header__list__wrapper"},a?n.a.createElement("div",{className:"films-header__list__loading"}," loading "):i?"error":c.map(function(e,t){return n.a.createElement("div",{key:t,onClick:function(){return r(e)},className:"films-header__list__item ".concat(s&&s.episode_id===e.episode_id?"active":"")},n.a.createElement("div",{className:"films-header__list__item__name"}," ",e.title," "))})))},p=function(e){var t=e.films,r=e.setActiveFilm;return n.a.createElement("div",{className:"films-header"},n.a.createElement("div",{className:"films-header__wrapper"},n.a.createElement(f,Object.assign({},t,{setActiveFilm:r}))))},_=function(e){var t=e.film;return n.a.createElement("div",{className:"films-body__info"},n.a.createElement("div",{className:"films-body__info__title"}," ",t.title," "),n.a.createElement("div",{className:"films-body__info__date"},"Release: ",t.release_date),n.a.createElement("div",{className:"films-body__info__director"},"Director: ",t.director),n.a.createElement("div",{className:"films-body__info__producer"},"Producer","".concat(t.producer.split(",").length>1?"'s":""),": ",t.producer))},v=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.films.active;return n.a.createElement("div",{className:"films-body"},n.a.createElement("div",{className:"films-body__wrapper"},e?n.a.createElement(_,{film:e}):""))}}]),t}(a.Component),h=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFilms()}},{key:"render",value:function(){var e=this.props,t=e.films,r=e.setActiveFilm;return console.log(t),n.a.createElement("div",{className:"films"},n.a.createElement(p,{films:t,setActiveFilm:r}),n.a.createElement(v,{films:t}))}}]),t}(a.Component),b=r(14),j=r.n(b),E=r(20),O=("".concat("https://swapi.co/api","/people/"),"".concat("https://swapi.co/api","/films/")),y=("".concat("https://swapi.co/api","/startship/"),"CHANGE_ROUTE"),w="FETCH_FILMS_REQUEST",F="FETCH_FILMS_SUCCESS",g="FETCH_FILMS_FAIL",N="CHOOSE_FILM",k=function(e){return e.films},C=Object(d.b)(function(e){return{films:k(e)}},function(e){return{fetchFilms:function(){e(function(){var e=Object(E.a)(j.a.mark(function e(t){var r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),e.next=3,fetch(O,void 0).then(function(e){return e.ok?e.json():Promise.reject(e.text())},function(e){return Promise.reject(e)}).then(function(e){return{json:e}},function(e){return{error:e}}).catch(function(e){return{error:e}});case 3:(r=e.sent).json?t((n=r.json.results,{type:F,payload:{items:n}})):t((a=r.error,{type:g,payload:{error:a}}));case 5:case"end":return e.stop()}var a,n},e,this)}));return function(t){return e.apply(this,arguments)}}())},setActiveFilm:function(t){e({type:N,active:t})}}})(h),S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C,null))}}]),t}(a.Component),A=r(1),I=r(21),M=r(2),T={keys:{},options:{},path:""},H={route:Object(M.a)({},T)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(M.a)({},e,{route:t.route});default:return e}},x={items:[],loading:!1,error:null,active:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(M.a)({},e,{loading:!0,error:null});case F:return Object(M.a)({},e,{loading:!1,items:t.payload.items});case g:return Object(M.a)({},e,{loading:!1,items:[],error:t.payload.error});case N:return Object(M.a)({},e,{active:t.active});default:return e}},D=Object(A.combineReducers)({router:L,films:R}),P=r(22),U=Object(A.createStore)(D,Object(I.composeWithDevTools)(Object(A.applyMiddleware)(P.a)));c.a.render(n.a.createElement(d.a,{store:U},n.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.65e2e532.chunk.js.map